<div class="container">
  <h1>Products</h1>

  <a href="/api/products/create" class="btn btn-success"> <i class="fa-solid fa-square-plus fa-lg "></i> Add New Product</a>
  <table class="table table-zebra">
    <thead>
      <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Description</th>
        <th>Image URL</th>
        <th>Case Price</th>
        <th>In Stock?</th>
        <th>Package Arrangement</th>
        <th>Effects</th>
        <th>Colors</th>
        <th>Category</th>
        <th>Brand</th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% products.forEach(product=>{%>
      <%let colors = ""%>
      <%product.ColorStrings.forEach(color => {colors+=color.name + " "})%>

      <tr>
        <td><%=product.id%></td>
        <td><%=product.title%></td>
        <td><%=product.description%></td>
        <td><%=product.image%></td>
        <td><%=product.casePrice%></td>
        <td><%=product.inStock%></td>
        <td><%=product.package%></td>
        <td><%=product.effects%></td>
        <td><%=colors%></td>
        <td><%=product.Categories.name%></td>
        <td><%=product.Brands.name%></td>
        <td class="text-center"><a href="/api/products/<%=product.id%>" class="btn btn-warning">Edit </a></td>
        <td class="text-center"><a href="/api/products/delete/<%=product.id%>" class="btn btn-error">Delete </a></td>
      </tr>
      <%})%>
    </tbody>

  </table>
</div>